# Logrotate configuration for Ownprem services
# Install to: /etc/logrotate.d/ownprem
#
# Note: Ownprem services use Pino logger which outputs to stdout/stderr.
# In production, logs are typically captured by systemd journal.
# This configuration handles any file-based logging if enabled.

# Orchestrator logs
/var/log/ownprem/orchestrator.log {
    daily
    rotate 14
    compress
    delaycompress
    missingok
    notifempty
    create 0640 ownprem ownprem
    copytruncate
    dateext
    dateformat -%Y%m%d
    maxsize 100M
}

# Agent logs
/var/log/ownprem/agent.log {
    daily
    rotate 14
    compress
    delaycompress
    missingok
    notifempty
    create 0640 ownprem ownprem
    copytruncate
    dateext
    dateformat -%Y%m%d
    maxsize 100M
}

# Privileged helper logs
/var/log/ownprem/helper.log {
    daily
    rotate 14
    compress
    delaycompress
    missingok
    notifempty
    create 0640 root root
    copytruncate
    dateext
    dateformat -%Y%m%d
    maxsize 50M
}

# App deployment logs (if apps write to this directory)
/var/log/ownprem/apps/*.log {
    daily
    rotate 7
    compress
    delaycompress
    missingok
    notifempty
    sharedscripts
    copytruncate
    dateext
    dateformat -%Y%m%d
    maxsize 50M
}
